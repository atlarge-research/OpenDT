:root{
  --bg:#f6f8fb; --card:#fff; --ink:#1f2937; --muted:#6b7280;
  --ok:#16a34a; --err:#e11d48; --blue:#3b82f6; --chip:#e5e7eb; --ring:rgba(17,24,39,.06)
}
*{box-sizing:border-box}
html,body{height:100%}
body{font-family:Inter,system-ui,Arial;margin:0;padding:26px;background:var(--bg);color:var(--ink)}
.container{max-width:1200px;margin:0 auto}

.header{background:#111827;color:#fff;padding:24px;border-radius:16px;margin-bottom:18px}
.header h1{margin:0 0 6px 0;font-size:24px}
.sub{opacity:.9;font-size:13px}

.controls{background:var(--card);padding:18px 20px;border-radius:14px;margin-bottom:16px;box-shadow:0 1px 0 var(--ring)}
.row{display:flex;align-items:center;gap:12px;flex-wrap:wrap}

.btn{border:0;border-radius:12px;padding:12px 16px;font-weight:800;cursor:pointer}
.btn-primary{background:#3b82f6;color:#fff}
.btn-danger{background:#ef4444;color:#fff}

.status{background:#eef2ff;border-radius:999px;padding:10px 14px;display:flex;align-items:center;gap:8px}
.dot{width:8px;height:8px;border-radius:999px;background:#9ca3af}
.status.running .dot{background:var(--ok)}
.status.stopped .dot{background:var(--err)}

.mode-switch{margin-left:auto}
.seg{background:#eef2ff;border-radius:9999px;padding:4px;display:inline-flex}
.seg button{border:0;background:transparent;padding:8px 14px;border-radius:9999px;font-weight:700;cursor:pointer}
.seg button.active{background:#fff}

.metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin-bottom:16px}
.metric{background:var(--card);padding:18px;border-radius:14px;box-shadow:0 1px 0 var(--ring)}
.metric h3{margin:0 0 6px 0;font-size:12px;letter-spacing:.08em;color:var(--muted)}
.metric .value{font-size:28px;font-weight:900}
.meta{font-size:12px;color:var(--muted)}

.section-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:16px}
.card{background:var(--card);padding:18px;border-radius:14px;box-shadow:0 1px 0 var(--ring);margin-bottom:14px}
.card h3{margin:0 0 12px 0;font-size:15px}

.badge{display:inline-block;padding:4px 10px;border-radius:999px;background:var(--chip);font-size:12px}

.kv{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.kv > div{display:flex;justify-content:space-between;background:#f8fafc;padding:10px 12px;border:1px solid #eef2f7;border-radius:10px}
.kv span{color:var(--muted);font-size:12px}
.kv strong{font-weight:800}

.panel{margin-top:12px;border:1px solid #e6eef7;background:#f7fbff;border-radius:10px}
.panel-title{padding:8px 10px;background:#eaf3ff;border-bottom:1px solid #e6eef7;border-top-left-radius:10px;border-top-right-radius:10px;font-weight:700}
.panel ul{margin:8px 14px 12px 24px}

table{width:100%;border-collapse:separate;border-spacing:0 8px}
thead th{font-size:12px;color:var(--muted);text-align:left;padding:6px 10px}
tbody td{background:#f8fafc;padding:10px;border-top:1px solid #eef2f7;border-bottom:1px solid #eef2f7}
tbody tr td:first-child{border-top-left-radius:10px;border-bottom-left-radius:10px}
tbody tr td:last-child{border-top-right-radius:10px;border-bottom-right-radius:10px}

/* UI / JSON modes */
.ui-only{display:block}
.json-only{display:none}
.mode-json .ui-only{display:none}
.mode-json .json-only{display:block;white-space:pre-wrap}
